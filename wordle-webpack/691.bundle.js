"use strict";(self.webpackChunkwordle=self.webpackChunkwordle||[]).push([[691],{691:(e,t,r)=>{r.r(t),r.d(t,{WordleBoard:()=>n});var o=r(671),i=r(144),s=function(){function e(t){(0,o.Z)(this,e),this.curTry=0,this.maxTries=t}return(0,i.Z)(e,[{key:"update",value:function(){}}]),e}(),n=function(){function e(t,r,i,n,u){(0,o.Z)(this,e),this.alphabet=this.getAlphabet(),this.wordAsDict=this.getDict(i),this.word=i,this.validWords=r,this.rows=u,this.cols=n,this.grid=this.createGrid(u,n),this.curRow=0,this.curCol=0,this.popupMsg=t,this.gameState=new s(u),this.createEventListeners()}return(0,i.Z)(e,[{key:"getAlphabet",value:function(){var e="abcdefghijklmnopqrstuvwxyz",t=e.toUpperCase();return[e,t].join("")}},{key:"getDict",value:function(e){var t={};for(var r in e){var o=e[r];t[o]?t[o]+=1:t[o]=1}return t}},{key:"getCurRowInput",value:function(){return this.grid[this.curRow].join("")}},{key:"createGrid",value:function(e,t){for(var r=[],o=0;o<e;o+=1){for(var i=[],s=0;s<t;s+=1)i.push(" ");r.push(i)}return r}},{key:"createEventListeners",value:function(){var e=this;window.addEventListener("keydown",(function(t){var r,o,i=t.key;if("Enter"===i){var s=e.getCurRowInput(),n=e.curCol===e.cols;n&&!e.validWords.includes(s)?(e.injectPopupMsg("invalid-word"),r=e.curRow):n?(e.gameState.update(e.curRow),o=e.curRow,e.curRow+=1,e.curCol=0):(e.injectPopupMsg("non-full-row"),r=e.curRow)}else"Backspace"===i?(e.curCol-=1,e.curCol<0&&(e.curCol=0),e.grid[e.curRow][e.curCol]=" "):-1!==e.alphabet.indexOf(i)&&e.populateRow(i,e.curRow,e.curCol);e.render(r,o)}))}},{key:"injectPopupMsg",value:function(e){var t=this;switch(e){case"non-full-row":this.popupMsg.textContent="word not long enough";break;case"invalid-word":this.popupMsg.textContent="word does not exist"}setTimeout((function(){return t.fadePopupMsg()}),1e3)}},{key:"fadePopupMsg",value:function(){this.popupMsg.textContent="",document.getElementsByClassName("wordle-grid_row")[this.curRow].classList.remove("shake")}},{key:"populateRow",value:function(e,t,r){t<this.rows&&r<this.cols&&(this.grid[t][r]=e.toLowerCase(),this.incrCol())}},{key:"decrCol",value:function(){this.col-1>0&&(this.curCol-=1,this.grid[row][col]=" ")}},{key:"incrCol",value:function(){this.curCol+=1,this.curCol>this.cols&&(this.curCol-=1)}},{key:"renderCell",value:function(e,t,r,o,i){var s=["wordle-grid_row_element"];return i&&s.push("flip"),e<this.curRow?o[r]&&(r===this.word[t]?s.push("evaluated-row-match"):s.push("evaluated-row-soft-match"),o[r]-=1,0===o[r]&&delete o[r]):e>this.curRow&&s.push("unevaluated-row"),"<div class='".concat(s.join(" "),"'>").concat(r.toUpperCase(),"</div>")}},{key:"render",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=["<div class='wordle-grid'>"],o=0;o<this.rows;o+=1){var i=e===o?"<span class='wordle-grid_row shake'>":"<span class='wordle-grid_row'>",s=JSON.parse(JSON.stringify(this.wordAsDict));r.push(i);for(var n=t===o,u=0;u<this.cols;u+=1){var a=this.grid[o][u],c=this.renderCell(o,u,a,s,n);r.push(c)}r.push("</span>")}r.push("</div>"),document.getElementById("board").innerHTML=r.join("")}}]),e}()}}]);